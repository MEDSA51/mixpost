import{r as k,j as C,k as M,c as b,o as m,a as s,b as _,u as a,Z as A,w as t,F as x,e as j,g as p,d as i,t as E,K as F,v as S,f as z,l as D,P as O,N as Z}from"./app-1LYCcDMe.js";import{u as q}from"./SearchInput-ixId_t2q.js";import{u as G,_ as H,a as J,b as Q}from"./MediaGifs-BzWRY8qT.js";import{_ as R}from"./PageHeader-bDEj373P.js";import{_ as U,T as W}from"./Tab-9resJ7lp.js";import{_ as X,a as Y}from"./PureDangerButton-DZ-geWE_.js";import{_ as K}from"./DangerButton-C7okpwzp.js";import{_ as h}from"./Panel-B7UXr169.js";import{T as ee,_ as se}from"./Trash-CTRcVELt.js";import"./Input-CLmEjtHB.js";import"./MediaFile-D3TVUgmC.js";import"./ExclamationCircle-D1kjkmHe.js";import"./helpers-DuGMb4tS.js";import"./NoResult-BndubVqY.js";import"./Alert-CWixkcU9.js";import"./useNotifications-CN6S3Nh3.js";const te={class:"w-full mx-auto row-py"},oe={class:"w-full row-px"},ae={class:"w-full row-px mt-lg"},xe={__name:"Media",setup(le){const{activeTab:r,tabs:y,isDownloading:v,isDeleting:w,downloadExternal:P,deletePermanently:L}=G(),N={uploads:Q,stock:J,gifs:H},n=k(),T=C(()=>N[r.value]),c=C(()=>n.value?n.value.selected:[]),$=()=>{n.value.deselectAll()},V=()=>{const o=r.value!=="uploads";o&&P(c.value.map(e=>{const{id:f,url:l,download_data:d}=e;return{id:f,url:l,download_data:d}}),e=>{g(e.data)}),o||g(c.value)},{versionContentObject:B}=q(),g=o=>{Z.post(route("mixpost.posts.store"),{versions:[{account_id:0,is_original:!0,content:[B("",o.map(e=>e.id))]}]})},u=k(!1),I=()=>{const o=c.value.map(e=>e.id);L(o,()=>{$(),n.value.removeItems(o),u.value=!1})};return(o,e)=>{const f=M("tooltip");return m(),b(x,null,[s(a(A),{title:"Media Library"}),_("div",te,[s(R,{title:"Media Library"}),_("div",oe,[s(W,null,{default:t(()=>[(m(!0),b(x,null,j(a(y),(l,d)=>(m(),p(U,{key:d,onClick:ie=>r.value=d,active:a(r)===d},{default:t(()=>[i(E(l),1)]),_:2},1032,["onClick","active"]))),128))]),_:1})]),_("div",ae,[s(h,null,{default:t(()=>[(m(),p(F(T.value),{ref_key:"sourceProperties",ref:n,columns:4},null,512)),s(X,{count:c.value.length,onClose:e[1]||(e[1]=l=>$())},{default:t(()=>[s(D,{onClick:V,isLoading:a(v),disabled:a(v),class:"mr-sm",size:"xs"},{default:t(()=>[s(O,{class:"mr-xs"}),e[4]||(e[4]=i(" Create Post "))]),_:1,__:[4]},8,["isLoading","disabled"]),a(r)==="uploads"?S((m(),p(Y,{key:0,onClick:e[0]||(e[0]=l=>u.value=!0)},{default:t(()=>[s(ee)]),_:1})),[[f,"Delete"]]):z("",!0)]),_:1},8,["count"])]),_:1})])]),s(se,{show:u.value,variant:"danger",onClose:e[3]||(e[3]=l=>u.value=!1)},{header:t(()=>e[5]||(e[5]=[i(" Delete media ")])),body:t(()=>e[6]||(e[6]=[i(" Are you sure you want to delete selected media items? ")])),footer:t(()=>[s(D,{onClick:e[2]||(e[2]=l=>u.value=!1),class:"mr-xs"},{default:t(()=>e[7]||(e[7]=[i("Cancel")])),_:1,__:[7]}),s(K,{isLoading:a(w),disabled:a(w),onClick:I},{default:t(()=>e[8]||(e[8]=[i("Delete")])),_:1,__:[8]},8,["isLoading","disabled"])]),_:1},8,["show"])],64)}}};export{xe as default};
